"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.unwrapHandle = unwrapHandle;
exports.unwrapTemplate = unwrapTemplate;
exports.extractHandle = extractHandle;
exports.isOkHandle = isOkHandle;
exports.isErrHandle = isErrHandle;

function unwrapHandle(handle) {
  if (typeof handle === 'number') {
    return handle;
  } else {
    var error = handle.errors[0];
    throw new Error("Compile Error: " + error.problem + " @ " + error.span.start + ".." + error.span.end);
  }
}

function unwrapTemplate(template) {
  if (template.result === 'error') {
    throw new Error("Compile Error: " + template.problem + " @ " + template.span.start + ".." + template.span.end);
  }

  return template;
}

function extractHandle(handle) {
  if (typeof handle === 'number') {
    return handle;
  } else {
    return handle.handle;
  }
}

function isOkHandle(handle) {
  return typeof handle === 'number';
}

function isErrHandle(handle) {
  return typeof handle === 'number';
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3BhY2thZ2VzL0BnbGltbWVyL3V0aWwvbGliL3RlbXBsYXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBRU0sU0FBQSxZQUFBLENBQUEsTUFBQSxFQUEyQztBQUMvQyxNQUFJLE9BQUEsTUFBQSxLQUFKLFFBQUEsRUFBZ0M7QUFDOUIsV0FBQSxNQUFBO0FBREYsR0FBQSxNQUVPO0FBQ0wsUUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFOLE1BQUEsQ0FBWixDQUFZLENBQVo7QUFDQSxVQUFNLElBQUEsS0FBQSxDQUFBLG9CQUE0QixLQUFLLENBQWpDLE9BQUEsR0FBQSxLQUFBLEdBQStDLEtBQUssQ0FBTCxJQUFBLENBQS9DLEtBQUEsR0FBQSxJQUFBLEdBQW9FLEtBQUssQ0FBTCxJQUFBLENBQTFFLEdBQU0sQ0FBTjtBQUNEO0FBQ0Y7O0FBRUssU0FBQSxjQUFBLENBQUEsUUFBQSxFQUEyQztBQUMvQyxNQUFJLFFBQVEsQ0FBUixNQUFBLEtBQUosT0FBQSxFQUFpQztBQUMvQixVQUFNLElBQUEsS0FBQSxDQUFBLG9CQUNjLFFBQVEsQ0FEdEIsT0FBQSxHQUFBLEtBQUEsR0FDb0MsUUFBUSxDQUFSLElBQUEsQ0FEcEMsS0FBQSxHQUFBLElBQUEsR0FDNEQsUUFBUSxDQUFSLElBQUEsQ0FEbEUsR0FBTSxDQUFOO0FBR0Q7O0FBRUQsU0FBQSxRQUFBO0FBQ0Q7O0FBRUssU0FBQSxhQUFBLENBQUEsTUFBQSxFQUE0QztBQUNoRCxNQUFJLE9BQUEsTUFBQSxLQUFKLFFBQUEsRUFBZ0M7QUFDOUIsV0FBQSxNQUFBO0FBREYsR0FBQSxNQUVPO0FBQ0wsV0FBTyxNQUFNLENBQWIsTUFBQTtBQUNEO0FBQ0Y7O0FBRUssU0FBQSxVQUFBLENBQUEsTUFBQSxFQUF5QztBQUM3QyxTQUFPLE9BQUEsTUFBQSxLQUFQLFFBQUE7QUFDRDs7QUFFSyxTQUFBLFdBQUEsQ0FBQSxNQUFBLEVBQTBDO0FBQzlDLFNBQU8sT0FBQSxNQUFBLEtBQVAsUUFBQTtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSGFuZGxlUmVzdWx0LCBUZW1wbGF0ZSwgVGVtcGxhdGVPaywgT2tIYW5kbGUsIEVyckhhbmRsZSB9IGZyb20gJ0BnbGltbWVyL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdW53cmFwSGFuZGxlKGhhbmRsZTogSGFuZGxlUmVzdWx0KTogbnVtYmVyIHtcbiAgaWYgKHR5cGVvZiBoYW5kbGUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGhhbmRsZTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgZXJyb3IgPSBoYW5kbGUuZXJyb3JzWzBdO1xuICAgIHRocm93IG5ldyBFcnJvcihgQ29tcGlsZSBFcnJvcjogJHtlcnJvci5wcm9ibGVtfSBAICR7ZXJyb3Iuc3Bhbi5zdGFydH0uLiR7ZXJyb3Iuc3Bhbi5lbmR9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcFRlbXBsYXRlKHRlbXBsYXRlOiBUZW1wbGF0ZSk6IFRlbXBsYXRlT2sge1xuICBpZiAodGVtcGxhdGUucmVzdWx0ID09PSAnZXJyb3InKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYENvbXBpbGUgRXJyb3I6ICR7dGVtcGxhdGUucHJvYmxlbX0gQCAke3RlbXBsYXRlLnNwYW4uc3RhcnR9Li4ke3RlbXBsYXRlLnNwYW4uZW5kfWBcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRlbXBsYXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdEhhbmRsZShoYW5kbGU6IEhhbmRsZVJlc3VsdCk6IG51bWJlciB7XG4gIGlmICh0eXBlb2YgaGFuZGxlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBoYW5kbGU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGhhbmRsZS5oYW5kbGU7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2tIYW5kbGUoaGFuZGxlOiBIYW5kbGVSZXN1bHQpOiBoYW5kbGUgaXMgT2tIYW5kbGUge1xuICByZXR1cm4gdHlwZW9mIGhhbmRsZSA9PT0gJ251bWJlcic7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VyckhhbmRsZShoYW5kbGU6IEhhbmRsZVJlc3VsdCk6IGhhbmRsZSBpcyBFcnJIYW5kbGUge1xuICByZXR1cm4gdHlwZW9mIGhhbmRsZSA9PT0gJ251bWJlcic7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9