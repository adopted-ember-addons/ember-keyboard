<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>PackageInfo - ember-cli</title>
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/yui/3.18.0/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div class="yui3-g">
        <div id="sidebar" class="yui3-u">
            <div class="logo">
              <a href="../index.html">
                  <img src="https://ember-cli.com/assets/images/ember-cli-logo-small-dark.png">
              </a>
            </div>
            
            <div id="modules" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Modules</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../modules/ember-cli.html">ember-cli</a>
                            </li>
                    </ul>
                </div>
            </div>
            
            <div id="classes" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Classes</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../classes/Addon.html">Addon</a></li>
                            <li><a href="../classes/AmdTransformAddon.html">AmdTransformAddon</a></li>
                            <li><a href="../classes/Blueprint.html">Blueprint</a></li>
                            <li><a href="../classes/Builder.html">Builder</a></li>
                            <li><a href="../classes/CLI.html">CLI</a></li>
                            <li><a href="../classes/Command.html">Command</a></li>
                            <li><a href="../classes/DefaultPackager.html">DefaultPackager</a></li>
                            <li><a href="../classes/EmberAddon.html">EmberAddon</a></li>
                            <li><a href="../classes/EmberApp.html">EmberApp</a></li>
                            <li><a href="../classes/HardwareInfo.html">HardwareInfo</a></li>
                            <li><a href="../classes/HistorySupportAddon.html">HistorySupportAddon</a></li>
                            <li><a href="../classes/Instrumentation.html">Instrumentation</a></li>
                            <li><a href="../classes/NodeModulesList.html">NodeModulesList</a></li>
                            <li><a href="../classes/NpmTask.html">NpmTask</a></li>
                            <li><a href="../classes/PackageInfo.html">PackageInfo</a></li>
                            <li><a href="../classes/PackageInfoCache.html">PackageInfoCache</a></li>
                            <li><a href="../classes/Project.html">Project</a></li>
                            <li><a href="../classes/ServeFilesAddon.html">ServeFilesAddon</a></li>
                            <li><a href="../classes/TestsServerAddon.html">TestsServerAddon</a></li>
                            <li><a href="../classes/WatcherAddon.html">WatcherAddon</a></li>
                            <li><a href="../classes/WindowsSymlinkChecker.html">WindowsSymlinkChecker</a></li>
                    </ul>
                </div>
            </div>
            
            
            <div id="sections" class="sidebox">
              <div class="hd">
                <h2 class="no-toc">PackageInfo</h2>
              </div>
              <div class="bd">
            
            
            
            
                  <div><a href="#method-summary">Method Summary</a></div>
            
            
            
            
            
            
            
            
            
            
            
            
            
                  <div><a href="#public-methods">Public Methods</a></div>
                  <ul>
                      <li><a href="#method_addPackages">addPackages</a></li>
                      <li><a href="#method_discoverAddonAddons">discoverAddonAddons</a></li>
                      <li><a href="#method_discoverProjectAddons">discoverProjectAddons</a></li>
                      <li><a href="#method_generateAddonPackages">generateAddonPackages</a></li>
                      <li><a href="#method_getAddonConstructor">getAddonConstructor</a></li>
                      <li><a href="#method_hasErrors">hasErrors</a></li>
                  </ul>
            
                  <div><a href="#protected-methods">Protected Methods</a></div>
                  <ul>
                      <li><a href="#method_addDependencies">addDependencies</a></li>
                      <li><a href="#method_addError">addError</a></li>
                      <li><a href="#method_addInRepoAddon">addInRepoAddon</a></li>
                      <li><a href="#method_addInternalAddon">addInternalAddon</a></li>
                  </ul>
            
              </div>
            </div>
            
            
            
            <div class="version-info">
              Version: 3.22.0-master-2eaee94140
            </div>
            
        </div>

        <div id="main" class="yui3-u">
            <div class="content"><div class="title">
    <span class="source-link"><a href="../files/lib_models_package-info-cache_package-info.js.html#l47"><code>lib&#x2F;models&#x2F;package-info-cache&#x2F;package-info.js:47</code></a></span>
    <h1 class="class-name">PackageInfo</h1>
</div>




<div class="class-description"><p>Class that stores information about a single package (directory tree with
a package.json and other data, like and Addon or Project.) It is one of the
two types of entries in a PackageInfoCache. It is only created by the
PackageInfoCache.</p>
</div>








  <h2 id="method-summary">Method Summary</h2>

    <table class="summary">
      <thead>
      <tr>
        <th colspan="2">Public Methods</th>
      </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            public
            
            
          </td>
          <td>
            <div class="method-name ">
              <a href="#method_addPackages">addPackages</a>(addonPackageList, packageInfoList, excludeFn)
            </div>
            <div class="short-description">
              <p>Add to a list of child addon PackageInfos for this packageInfo.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            public
            
            
          </td>
          <td>
            <div class="method-name ">
              <a href="#method_discoverAddonAddons">discoverAddonAddons</a>( )
            </div>
            <div class="short-description">
              <p>Discover the child addons for this packageInfo, which corresponds to an Addon.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            public
            
            
          </td>
          <td>
            <div class="method-name ">
              <a href="#method_discoverProjectAddons">discoverProjectAddons</a>( )
            </div>
            <div class="short-description">
              <p>Discover the child addons for this packageInfo, which corresponds to a Project.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            public
            
            
          </td>
          <td>
            <div class="method-name ">
              <a href="#method_generateAddonPackages">generateAddonPackages</a>(addonPackageList, excludeFn)
            </div>
            <div class="short-description">
              <p>Given a list of PackageInfo objects, generate the 'addonPackages' object (keyed by name, value = AddonInfo instance, for all packages marked 'valid'). This is stored in both Addon and Project instances.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            public
            
            
          </td>
          <td>
            <div class="method-name ">
              <a href="#method_getAddonConstructor">getAddonConstructor</a>( ): AddonConstructor
            </div>
            <div class="short-description">
              <p>This is only supposed to be called by the addon instantiation code. Also, the assumption here is that this PackageInfo really is for an Addon, so we don't need to check each time.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            public
            
            
          </td>
          <td>
            <div class="method-name ">
              <a href="#method_hasErrors">hasErrors</a>(true)
            </div>
            <div class="short-description">
              <p>Indicate if there are any errors in the ErrorList for this package. Note that this does NOT indicate if there are any errors in the objects referred to by this package (e.g., internal addons or dependencies).</p>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <table class="summary">
      <thead>
      <tr>
        <th colspan="2">Protected Methods</th>
      </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            protected
            
            
          </td>
          <td>
            <div class="method-name ">
              <a href="#method_addDependencies">addDependencies</a>(dependencies): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a>
            </div>
            <div class="short-description">
              <p>For each dependency in the given list, find the corresponding PackageInfo object in the cache (going up the file tree if necessary, as in the node resolution algorithm). Return a map of the dependencyName to PackageInfo object. Caller can then store it wherever they like.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            protected
            
            
          </td>
          <td>
            <div class="method-name ">
              <a href="#method_addError">addError</a>(errorType, errorData)
            </div>
            <div class="short-description">
              <p>Given error data, add an ErrorEntry to the ErrorList for this object. This is used by the _readPackage and _readNodeModulesList methods. It should not be called otherwise.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            protected
            
            
          </td>
          <td>
            <div class="method-name ">
              <a href="#method_addInRepoAddon">addInRepoAddon</a>(inRepoAddonPkg): 
            </div>
            <div class="short-description">
              <p>Add a reference to an in-repo addon PackageInfo object.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            protected
            
            
          </td>
          <td>
            <div class="method-name ">
              <a href="#method_addInternalAddon">addInternalAddon</a>(internalAddonPkg): 
            </div>
            <div class="short-description">
              <p>Add a reference to an internal addon PackageInfo object. "internal" addons (note: not in-repo addons) only exist in Projects, not other packages. Since the cache is loaded from 'loadProject', this can be done appropriately.</p>
            </div>
          </td>
        </tr>
      </tbody>
    </table>














  <div id="methods public">
    <h2 id="public-methods">Public Methods</h2>
<div class="method item">
    <div id="method_addPackages" class="title">
        <span class="source-link"><a href="../files/lib_models_package-info-cache_package-info.js.html#l227"><code>lib&#x2F;models&#x2F;package-info-cache&#x2F;package-info.js:227</code></a></span>
        <h3 class="">
            public
            
            
            addPackages(addonPackageList, packageInfoList, excludeFn)
        </h3>
    </div>



    <div class="method-description"><p>Add to a list of child addon PackageInfos for this packageInfo.</p>
</div>

      <div class="params">
        <h4>Parameters:</h4>
        <table>
          <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Attribute</th>
            <th>Description</th>
          </tr>
          </thead>
          <tbody>
            <tr>
              <td>addonPackageList</td>
              <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="crosslink external" target="_blank">Array</a></td>
              <td>
                <ul>
                  
                  
                  
                </ul>
              </td>
              <td><p>the list of child addon PackageInfos being constructed from various
sources in this packageInfo.</p>
</td>
            </tr>

            <tr>
              <td>packageInfoList</td>
              <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="crosslink external" target="_blank">Array</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></td>
              <td>
                <ul>
                  
                  
                  
                </ul>
              </td>
              <td><p>a list or map of PackageInfos being considered
(e.g., pkgInfo.dependencyPackages) for inclusion in the addonPackageList.</p>
</td>
            </tr>

            <tr>
              <td>excludeFn</td>
              <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></td>
              <td>
                <ul>
                  
                  
                  
                </ul>
              </td>
              <td><p>an optional function. If passed in, each child PackageInfo
will be tested against the function and only included in the package map if the function
returns a truthy value.</p>
</td>
            </tr>

          </tbody>
        </table>
      </div>



</div>
<div class="method item">
    <div id="method_discoverAddonAddons" class="title">
        <span class="source-link"><a href="../files/lib_models_package-info-cache_package-info.js.html#l266"><code>lib&#x2F;models&#x2F;package-info-cache&#x2F;package-info.js:266</code></a></span>
        <h3 class="">
            public
            
            
            discoverAddonAddons( )
        </h3>
    </div>



    <div class="method-description"><p>Discover the child addons for this packageInfo, which corresponds to an Addon.</p>
</div>




</div>
<div class="method item">
    <div id="method_discoverProjectAddons" class="title">
        <span class="source-link"><a href="../files/lib_models_package-info-cache_package-info.js.html#l284"><code>lib&#x2F;models&#x2F;package-info-cache&#x2F;package-info.js:284</code></a></span>
        <h3 class="">
            public
            
            
            discoverProjectAddons( )
        </h3>
    </div>



    <div class="method-description"><p>Discover the child addons for this packageInfo, which corresponds to a Project.</p>
</div>




</div>
<div class="method item">
    <div id="method_generateAddonPackages" class="title">
        <span class="source-link"><a href="../files/lib_models_package-info-cache_package-info.js.html#l304"><code>lib&#x2F;models&#x2F;package-info-cache&#x2F;package-info.js:304</code></a></span>
        <h3 class="">
            public
            
            
            generateAddonPackages(addonPackageList, excludeFn)
        </h3>
    </div>



    <div class="method-description"><p>Given a list of PackageInfo objects, generate the 'addonPackages' object (keyed by
name, value = AddonInfo instance, for all packages marked 'valid'). This is stored in
both Addon and Project instances.</p>
</div>

      <div class="params">
        <h4>Parameters:</h4>
        <table>
          <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Attribute</th>
            <th>Description</th>
          </tr>
          </thead>
          <tbody>
            <tr>
              <td>addonPackageList</td>
              <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="crosslink external" target="_blank">Array</a></td>
              <td>
                <ul>
                  
                  
                  
                </ul>
              </td>
              <td><p>the list of child addon PackageInfos to work from</p>
</td>
            </tr>

            <tr>
              <td>excludeFn</td>
              <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></td>
              <td>
                <ul>
                  
                  
                  
                </ul>
              </td>
              <td><p>an optional function. If passed in, each child PackageInfo
will be tested against the function and only included in the package map if the function
returns a truthy value.</p>
</td>
            </tr>

          </tbody>
        </table>
      </div>



</div>
<div class="method item">
    <div id="method_getAddonConstructor" class="title">
        <span class="source-link"><a href="../files/lib_models_package-info-cache_package-info.js.html#l371"><code>lib&#x2F;models&#x2F;package-info-cache&#x2F;package-info.js:371</code></a></span>
        <h3 class="">
            public
            
            
            getAddonConstructor( ): AddonConstructor
        </h3>
    </div>



    <div class="method-description"><p>This is only supposed to be called by the addon instantiation code.
Also, the assumption here is that this PackageInfo really is for an
Addon, so we don't need to check each time.</p>
</div>


      <div class="return">
        <h4>Return:</h4>
        <div>
          <span class="return-type">AddonConstructor</span>
          <span class="return-description"><p>an instance of a constructor function for the Addon class
whose package information is stored in this object.</p>
</span>
        </div>
      </div>


</div>
<div class="method item public">
    <div id="method_hasErrors" class="title">
        <span class="source-link"><a href="../files/lib_models_package-info-cache_package-info.js.html#l108"><code>lib&#x2F;models&#x2F;package-info-cache&#x2F;package-info.js:108</code></a></span>
        <h3 class="">
            public
            
            
            hasErrors(true)
        </h3>
    </div>



    <div class="method-description"><p>Indicate if there are any errors in the ErrorList for this package. Note that this does
NOT indicate if there are any errors in the objects referred to by this package (e.g.,
internal addons or dependencies).</p>
</div>

      <div class="params">
        <h4>Parameters:</h4>
        <table>
          <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Attribute</th>
            <th>Description</th>
          </tr>
          </thead>
          <tbody>
            <tr>
              <td>true</td>
              <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></td>
              <td>
                <ul>
                  
                  
                  
                </ul>
              </td>
              <td><p>if there are errors in the ErrorList, else false.</p>
</td>
            </tr>

          </tbody>
        </table>
      </div>



</div>
  </div>

    <div id="methods protected">
        <h2 id="protected-methods">Protected Methods</h2>
<div class="method item protected">
    <div id="method_addDependencies" class="title">
        <span class="source-link"><a href="../files/lib_models_package-info-cache_package-info.js.html#l154"><code>lib&#x2F;models&#x2F;package-info-cache&#x2F;package-info.js:154</code></a></span>
        <h3 class="">
            protected
            
            
            addDependencies(dependencies): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a>
        </h3>
    </div>



    <div class="method-description"><p>For each dependency in the given list, find the corresponding
PackageInfo object in the cache (going up the file tree if
necessary, as in the node resolution algorithm). Return a map
of the dependencyName to PackageInfo object. Caller can then
store it wherever they like.</p>
<p>Note: this is not to be  called until all packages that can be have
been added to the cache.</p>
<p>Note: this is for ALL dependencies, not just addons. To get just
addons, filter the result by calling pkgInfo.isAddon().</p>
<p>Note: this is only intended for use from PackageInfoCache._resolveDependencies.
It is not to be called directly by anything else.</p>
</div>

      <div class="params">
        <h4>Parameters:</h4>
        <table>
          <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Attribute</th>
            <th>Description</th>
          </tr>
          </thead>
          <tbody>
            <tr>
              <td>dependencies</td>
              <td><a href="../classes/PackageInfo.html" class="crosslink">PackageInfo</a></td>
              <td>
                <ul>
                  
                  
                  
                </ul>
              </td>
              <td><p>value of 'dependencies' or 'devDependencies'
attributes of a package.json.</p>
</td>
            </tr>

          </tbody>
        </table>
      </div>

      <div class="return">
        <h4>Return:</h4>
        <div>
          <span class="return-type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
          <span class="return-description"><p>a JavaScript object keyed on dependency name/path with
values the corresponding PackageInfo object from the cache.</p>
</span>
        </div>
      </div>


</div>
<div class="method item protected">
    <div id="method_addError" class="title">
        <span class="source-link"><a href="../files/lib_models_package-info-cache_package-info.js.html#l93"><code>lib&#x2F;models&#x2F;package-info-cache&#x2F;package-info.js:93</code></a></span>
        <h3 class="">
            protected
            
            
            addError(errorType, errorData)
        </h3>
    </div>



    <div class="method-description"><p>Given error data, add an ErrorEntry to the ErrorList for this object.
This is used by the _readPackage and _readNodeModulesList methods. It
should not be called otherwise.</p>
</div>

      <div class="params">
        <h4>Parameters:</h4>
        <table>
          <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Attribute</th>
            <th>Description</th>
          </tr>
          </thead>
          <tbody>
            <tr>
              <td>errorType</td>
              <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></td>
              <td>
                <ul>
                  
                  
                  
                </ul>
              </td>
              <td><p>one of the Errors.ERROR_* constants.</p>
</td>
            </tr>

            <tr>
              <td>errorData</td>
              <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></td>
              <td>
                <ul>
                  
                  
                  
                </ul>
              </td>
              <td><p>any error data relevant to the type of error
being created. See showErrors().</p>
</td>
            </tr>

          </tbody>
        </table>
      </div>



</div>
<div class="method item protected">
    <div id="method_addInRepoAddon" class="title">
        <span class="source-link"><a href="../files/lib_models_package-info-cache_package-info.js.html#l121"><code>lib&#x2F;models&#x2F;package-info-cache&#x2F;package-info.js:121</code></a></span>
        <h3 class="">
            protected
            
            
            addInRepoAddon(inRepoAddonPkg): 
        </h3>
    </div>



    <div class="method-description"><p>Add a reference to an in-repo addon PackageInfo object.</p>
</div>

      <div class="params">
        <h4>Parameters:</h4>
        <table>
          <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Attribute</th>
            <th>Description</th>
          </tr>
          </thead>
          <tbody>
            <tr>
              <td>inRepoAddonPkg</td>
              <td><a href="../classes/PackageInfo.html" class="crosslink">PackageInfo</a></td>
              <td>
                <ul>
                  
                  
                  
                </ul>
              </td>
              <td><p>the PackageInfo for the in-repo addon</p>
</td>
            </tr>

          </tbody>
        </table>
      </div>

      <div class="return">
        <h4>Return:</h4>
        <div>
          
          <span class="return-description"><p>null</p>
</span>
        </div>
      </div>


</div>
<div class="method item protected">
    <div id="method_addInternalAddon" class="title">
        <span class="source-link"><a href="../files/lib_models_package-info-cache_package-info.js.html#l136"><code>lib&#x2F;models&#x2F;package-info-cache&#x2F;package-info.js:136</code></a></span>
        <h3 class="">
            protected
            
            
            addInternalAddon(internalAddonPkg): 
        </h3>
    </div>



    <div class="method-description"><p>Add a reference to an internal addon PackageInfo object.
"internal" addons (note: not in-repo addons) only exist in
Projects, not other packages. Since the cache is loaded from
'loadProject', this can be done appropriately.</p>
</div>

      <div class="params">
        <h4>Parameters:</h4>
        <table>
          <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Attribute</th>
            <th>Description</th>
          </tr>
          </thead>
          <tbody>
            <tr>
              <td>internalAddonPkg</td>
              <td><a href="../classes/PackageInfo.html" class="crosslink">PackageInfo</a></td>
              <td>
                <ul>
                  
                  
                  
                </ul>
              </td>
              <td><p>the PackageInfo for the internal addon</p>
</td>
            </tr>

          </tbody>
        </table>
      </div>

      <div class="return">
        <h4>Return:</h4>
        <div>
          
          <span class="return-description"><p>null</p>
</span>
        </div>
      </div>


</div>
    </div>



</div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
</body>
</html>
