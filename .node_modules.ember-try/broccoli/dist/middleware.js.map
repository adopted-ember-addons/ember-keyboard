{"version":3,"file":"middleware.js","sourceRoot":"","sources":["../lib/middleware.ts"],"names":[],"mappings":"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"}